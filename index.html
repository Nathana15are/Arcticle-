<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>G√©n√©rateur de Citations Styl√©</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
<style>
@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap');
body {
  font-family: "Poppins", sans-serif;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-start;
  min-height: 100vh;
  margin: 0;
  padding: 20px;
  color: #fff;
  transition: background 1s, color 1s;
}
h1 { text-shadow: 2px 2px 5px rgba(0,0,0,0.4); text-align:center; margin-bottom:20px;}
select, button, input[type="file"] {
  padding: 12px 20px;
  margin: 10px;
  border: none;
  border-radius: 10px;
  font-size: 16px;
  cursor: pointer;
  transition: 0.3s all;
}
select { background: #fff; color: #333;}
button { background: #ff6f61; color: #fff;}
button:hover { background: #ff3b2e; transform: scale(1.1) rotate(-2deg); box-shadow:0 5px 15px rgba(0,0,0,0.3);}
.card {
  width: 400px;
  height: 250px;
  perspective: 1000px;
  margin-top: 20px;
  position: relative;
  touch-action: pinch-zoom;
}
.inner-card {
  width: 100%;
  height: 100%;
  transition: transform 0.8s;
  transform-style: preserve-3d;
  position: relative;
  animation: rotateCard 10s infinite linear;
}
.card.flipped .inner-card { transform: rotateY(180deg); }
.face {
  width: 100%; height: 100%;
  border-radius: 15px;
  box-shadow: 0 15px 35px rgba(0,0,0,0.5),0 0 25px rgba(255,255,255,0.2);
  position: absolute; backface-visibility: hidden; overflow: hidden;
  display: flex; flex-direction: column; align-items:center; justify-content:center;
  padding:20px;
  background: rgba(0,0,0,0.4);
  transition: transform 0.3s, box-shadow 0.3s;
}
.face:hover { transform: scale(1.05) rotateY(5deg); box-shadow: 0 20px 50px rgba(0,0,0,0.6),0 0 35px rgba(255,255,255,0.3);}
.face img { position: absolute; width:100%; height:100%; object-fit: cover; filter: blur(2px) brightness(0.8); z-index:1; }
.text-container {
  position: relative;
  z-index:2;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  width:100%; height:100%;
}
.face .theme { text-align:center; font-weight:600; font-size:22px; text-shadow:2px 2px 5px rgba(0,0,0,0.7); opacity:0; animation:fadeIn 1s forwards; transition: color 0.5s ease;}
.face p{ text-align:center; text-shadow:2px 2px 5px rgba(0,0,0,0.7); font-size:18px; margin-top:10px;}
.watermark { position:absolute; bottom:10px; right:15px; font-size:16px; opacity:0.7; z-index:2;}
#history { margin-top:20px; max-height:200px; overflow:auto; width:90%; text-align:center; font-size:14px;}
@keyframes fadeIn{ to{opacity:1;} }
@keyframes rotateCard{ 0%{transform:rotateY(0deg);}50%{transform:rotateY(5deg);}100%{transform:rotateY(0deg);} }
@media screen and (max-width:480px){
  .card{ width:90%; height:auto; }
  select, button, input[type="file"]{ width:90%; font-size:14px;}
  .face p{ font-size:16px; } .face .theme{ font-size:18px; }
}
</style>
</head>
<body>
<h1>‚ú® G√©n√©rateur de Citations ‚ú®</h1>

<select id="themeSelect">
<option value="">-- Choisis un th√®me --</option>
<option value="Amour">‚ù§Ô∏è Amour</option>
<option value="Amiti√©">ü§ù Amiti√©</option>
<option value="√âcole">üìö √âcole</option>
<option value="Motivation">üî• Motivation</option>
<option value="Humour">üòÇ Humour</option>
<option value="Vie">üåç Vie</option>
<option value="Famille">üë®‚Äçüë©‚Äçüëß‚Äçüë¶ Famille</option>
<option value="Succ√®s">üèÜ Succ√®s</option>
<option value="Courage">ü¶Å Courage</option>
<option value="Sagesse">üß† Sagesse</option>
</select>

<input type="file" id="uploadImage">
<div>
<button onclick="generateQuote()">üé≤ G√©n√©rer</button>
<button onclick="generateRandomQuote()">üé≤ Surprise</button>
<button onclick="downloadQuote()">üì• T√©l√©charger</button>
</div>

<div class="card" id="card">
<div class="inner-card">
<div class="face front">
<img src="">
<div class="text-container">
<div class="theme"></div>
<p></p>
</div>
<div class="watermark">nth</div>
</div>
<div class="face back">
<img src="">
<div class="text-container">
<div class="theme"></div>
<p></p>
</div>
<div class="watermark">nth</div>
</div>
</div>
</div>

<div id="history"></div>

<script>
const citations={
"Amour":["L'amour v√©ritable ne meurt jamais.","Aimer, c'est se donner sans attendre.","Un c≈ìur sinc√®re vaut mieux que mille promesses.","Tomber amoureux rend la vie plus belle.","Chaque geste d'amour compte.","L'amour est la lumi√®re de la vie.","Aimer quelqu'un, c'est accepter ses d√©fauts.","Un sourire partag√© est un acte d'amour.","Le v√©ritable amour sait pardonner.","L'amour transforme tout ce qu'il touche.","L'amour se montre dans les petites attentions.","Le c≈ìur ne se commande pas.","L'amour vrai est patient.","Chaque jour est une nouvelle chance d'aimer.","Aimer, c'est grandir ensemble.","Les mots doux construisent l'amour.","Un amour sinc√®re est rare.","Les gestes parlent plus que les mots.","L'amour gu√©rit les blessures.","L'amour est la cl√© du bonheur."],
"Amiti√©":["Un ami v√©ritable est un tr√©sor.","Les amis sont la famille que l'on choisit.","L'amiti√© double les joies et r√©duit les peines.","Un ami est l√† m√™me dans le silence.","Partager des moments cr√©e des souvenirs.","L'amiti√© se nourrit de confiance.","Un bon ami √©coute sans juger.","Les vrais amis restent malgr√© la distance.","Avoir un ami, c'est avoir un refuge.","L'amiti√© rend la vie plus douce.","Les amis partagent les secrets.","Rire avec un ami est pr√©cieux.","Un ami aide sans rien demander.","L'amiti√© est un pilier de la vie.","Les amis nous inspirent √† √™tre meilleurs.","L'amiti√© ne vieillit jamais.","Les souvenirs d'amis restent √©ternels.","Soutenir ses amis est un devoir.","Les amis transforment les jours gris en lumi√®re.","Un ami comprend sans mots."],
"√âcole":["Apprendre, c'est grandir chaque jour.","Chaque erreur est une le√ßon d√©guis√©e.","La curiosit√© est le d√©but de la sagesse.","√âtudier ouvre des portes vers l'avenir.","L'√©cole construit le chemin de demain.","Apprendre enrichit l'esprit et le c≈ìur.","Chaque connaissance acquise est un tr√©sor.","L'√©ducation est un cadeau pr√©cieux.","Les le√ßons d'aujourd'hui sont les succ√®s de demain.","Apprendre rend libre et confiant.","L'√©cole est une aventure passionnante.","Lire √©largit l'esprit.","La pers√©v√©rance paie toujours.","Chaque exercice renforce l'esprit.","La motivation est la cl√© de la r√©ussite.","Poser des questions fait avancer.","Les professeurs guident les r√™ves.","Chaque note est un pas vers le futur.","L'apprentissage est un voyage infini.","Apprendre ouvre le monde."],
"Motivation":["Ne r√™ve pas ta vie, vis tes r√™ves.","Le succ√®s n‚Äôest pas final, l‚Äô√©chec n‚Äôest pas fatal.","Croire en soi est le premier secret du succ√®s.","Avancer malgr√© la peur est un vrai courage.","Chaque effort compte vers ton objectif.","Pers√©v√©rer transforme les obstacles en opportunit√©s.","Se relever apr√®s un √©chec forge le caract√®re.","Rien n‚Äôest impossible √† celui qui ose.","Travaille en silence, laisse ton succ√®s parler.","Le courage d'aujourd'hui cr√©e le succ√®s de demain.","Fais ce que tu aimes et aime ce que tu fais.","Chaque petit pas m√®ne √† de grands r√©sultats.","La discipline surpasse le talent.","Le succ√®s demande du temps.","Garde les yeux sur ton objectif.","Les r√™ves demandent de l'action.","Agir inspire plus que parler.","Rien ne remplace la pers√©v√©rance.","Chaque d√©fi est une chance.","Oser est la cl√© de la r√©ussite."],
"Humour":["Rire est le meilleur des rem√®des.","Un sourire peut illuminer une journ√©e.","L'humour rapproche les gens.","Rire de soi-m√™me est un signe de sagesse.","Une blague partag√©e rend heureux.","L'humour transforme les moments difficiles.","Rire lib√®re l'esprit et le c≈ìur.","Un fou rire est une petite victoire.","Les sourires sont contagieux.","L'humour est l'√©pice de la vie.","L'humour rend la vie l√©g√®re.","Une blague brise la glace.","Rire ensemble cr√©e des liens.","L'humour sauve des journ√©es grises.","Savoir rire est une force.","Les plaisanteries rapprochent les √¢mes.","Rire est un langage universel.","Un rire sinc√®re gu√©rit les blessures.","L'humour est un rem√®de gratuit.","Rire est un art de vivre."],
"Vie":["Vis chaque jour comme si c'√©tait le dernier.","Profite des petits moments.","Rien n'arrive sans raison.","La vie est un voyage, pas une destination.","Chaque instant compte.","La vie est belle quand on la savoure.","Les exp√©riences forgent notre chemin.","Apprends √† appr√©cier le pr√©sent.","Vivre pleinement est un art.","Chaque jour offre une nouvelle chance.","La vie est un cadeau pr√©cieux.","Les d√©fis renforcent l'√¢me.","Accepte le changement.","Apprends de tes erreurs.","Cherche la beaut√© partout.","La vie est faite de choix.","R√™ve grand et ose.","Sois reconnaissant pour aujourd'hui.","La vie enseigne √† travers les exp√©riences.","Savoure les instants simples."],
"Famille":["La famille est un tr√©sor pr√©cieux.","Aime et prot√®ge les tiens.","Les liens familiaux sont inestimables.","La famille est un refuge s√ªr.","Soutenir sa famille est un devoir sacr√©.","Chaque membre apporte sa lumi√®re.","La famille se construit dans l'amour.","Les souvenirs familiaux sont √©ternels.","Aimer sa famille enrichit l'√¢me.","La famille est la base de la vie.","La famille partage les joies.","Un repas en famille rapproche.","Les parents guident avec amour.","Les fr√®res et s≈ìurs sont des alli√©s.","Prot√©ger sa famille est un honneur.","La famille est notre h√©ritage.","Les traditions familiales sont pr√©cieuses.","Le temps en famille est sacr√©.","Chaque sourire familial est une b√©n√©diction.","La famille est le socle du bonheur."],
"Succ√®s":["Le succ√®s appartient √† ceux qui osent.","Rien n‚Äôest impossible pour qui pers√©v√®re.","Travaille dur et reste humble.","Les efforts d'aujourd'hui portent les fruits de demain.","Le succ√®s est une question de constance.","Atteindre ses buts demande courage et patience.","Chaque victoire commence par un premier pas.","La r√©ussite sourit √† ceux qui n'abandonnent jamais.","Croire en soi est la cl√© du succ√®s.","Le succ√®s inspire ceux qui viennent apr√®s.","Le succ√®s se construit pas √† pas.","Chaque obstacle surmont√© rapproche du succ√®s.","Les √©checs sont des le√ßons.","Se relever est la cl√© de la r√©ussite.","Rester motiv√© fait la diff√©rence.","La discipline m√®ne au succ√®s.","Le succ√®s demande de la pers√©v√©rance.","Chaque effort est pr√©cieux.","Le succ√®s se partage.","R√™ver grand est n√©cessaire."],
"Courage":["Le courage consiste √† avancer malgr√© la peur.","Affronter ses peurs est la vraie force.","Se relever apr√®s un √©chec montre sa valeur.","Oser est le premier pas vers la r√©ussite.","Chaque d√©fi surmont√© renforce l'√¢me.","Le courage transforme les obstacles en opportunit√©s.","Ne jamais abandonner est un acte de bravoure.","Le courage est la cl√© de la libert√©.","Agir malgr√© le doute est courageux.","La pers√©v√©rance est une forme de courage.","Courage et patience m√®nent loin.","Chaque pas courageux construit le caract√®re.","Le courage inspire les autres.","Rester fort dans l'adversit√© est noble.","Oser dire non est courageux.","Le courage se cache dans les d√©tails.","La peur ne doit pas dominer.","Chaque acte de bravoure compte.","Faire face √† soi-m√™me demande courage.","Le courage ouvre de nouvelles voies."],
"Sagesse":["√âcouter avant de parler est un signe de sagesse.","Apprendre de chaque exp√©rience rend sage.","La patience est une vertu pr√©cieuse.","La r√©flexion pr√©c√®de les bonnes d√©cisions.","Comprendre les autres enrichit l'esprit.","La sagesse se cultive avec le temps.","Agir avec discernement est la cl√©.","Les erreurs d'hier forgent la sagesse de demain.","Savoir attendre est un art.","La connaissance combin√©e √† l'exp√©rience m√®ne √† la sagesse.","La sagesse r√©side dans l'humilit√©.","Observer avant d'agir enseigne la prudence.","Apprendre √† relativiser est sage.","La sagesse s'accompagne de calme.","Savoir pardonner est un signe de sagesse.","Les conseils avis√©s guident les choix.","La r√©flexion m√®ne √† la s√©r√©nit√©.","L'exp√©rience forge les d√©cisions.","La sagesse s'apprend avec le temps.","Savoir √©couter est une force."]
};

document.getElementById("uploadImage").addEventListener("change",function(e){
  const file=e.target.files[0];
  if(file){
    const reader=new FileReader();
    reader.onload=function(ev){
      document.querySelector(".back img").src=ev.target.result;
    }
    reader.readAsDataURL(file);
  }
});

function typeText(el,text,speed=40){el.innerHTML="";let i=0;function typing(){if(i<text.length){el.innerHTML+=text.charAt(i);i++;setTimeout(typing,speed);}}typing();}
function addToHistory(text){const h=document.getElementById("history");const p=document.createElement("p");p.textContent=text;h.appendChild(p);}

function generateQuote(){
  const theme=document.getElementById("themeSelect").value;
  if(!theme || !citations[theme]) return alert("S√©lectionne un th√®me !");
  const list=citations[theme];
  const text=list[Math.floor(Math.random()*list.length)];
  const imgUrl=`https://picsum.photos/400/250?random=${Math.floor(Math.random()*1000)}`;
  const card=document.getElementById("card");
  const front=card.querySelector(".front");
  const back=card.querySelector(".back");
  const colors=["#ff6f61","#6fe3ff","#ffeb6f","#7fff6f","#e36fff"];
  const randomColor=colors[Math.floor(Math.random()*colors.length)];

  if(!card.classList.contains("flipped")){
    back.querySelector("img").src = back.querySelector("img").src || imgUrl;
    back.querySelector(".theme").textContent = theme;
    back.querySelector(".theme").style.color = randomColor;
    typeText(back.querySelector("p"), text);
  } else {
    front.querySelector("img").src = front.querySelector("img").src || imgUrl;
    front.querySelector(".theme").textContent = theme;
    front.querySelector(".theme").style.color = randomColor;
    typeText(front.querySelector("p"), text);
  }

  card.classList.toggle("flipped");
  addToHistory(text);
}

function generateRandomQuote(){
  const themes = Object.keys(citations);
  const randomTheme = themes[Math.floor(Math.random()*themes.length)];
  document.getElementById("themeSelect").value = randomTheme;
  generateQuote();
}

function downloadQuote(){
  const card=document.getElementById("card");
  const visibleFace = card.classList.contains("flipped") ? card.querySelector(".back") : card.querySelector(".front");
  visibleFace.style.transition = 'none';
  html2canvas(visibleFace, {scale:2}).then(canvas=>{
    const link = document.createElement("a");
    link.download = "citation-nth.png";
    link.href = canvas.toDataURL("image/png");
    link.click();
    visibleFace.style.transition = 'all 0.8s';
  });
}

// Mode jour/nuit automatique
const hour = new Date().getHours();
if(hour >= 18 || hour < 6){
  document.body.style.background = "linear-gradient(135deg, #2c3e50, #34495e)";
  document.body.style.color = "#fff";
} else {
  document.body.style.background = "linear-gradient(270deg, #6e8efb, #a777e3, #f7971e, #ffd200)";
}
</script>
</body>
</html>
