<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>GÃ©nÃ©rateur de Citations</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <style>
    body {
      font-family: "Poppins", sans-serif;
      background: linear-gradient(135deg, #6e8efb, #a777e3);
      color: #fff;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      margin: 0;
    }

    h1 {
      margin-bottom: 20px;
      text-shadow: 2px 2px 5px rgba(0,0,0,0.4);
    }

    select, button {
      padding: 12px 20px;
      margin: 10px;
      border: none;
      border-radius: 10px;
      font-size: 16px;
      cursor: pointer;
      transition: 0.3s;
    }

    select {
      background: #fff;
      color: #333;
    }

    button {
      background: #ff6f61;
      color: #fff;
    }

    button:hover {
      background: #ff3b2e;
      transform: scale(1.05);
    }

    .card {
      width: 400px;
      height: 250px;
      perspective: 1000px;
      margin-top: 20px;
    }

    .face {
      width: 100%;
      height: 100%;
      border-radius: 15px;
      box-shadow: 0 10px 25px rgba(0,0,0,0.4);
      position: absolute;
      backface-visibility: hidden;
      overflow: hidden;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: column;
      padding: 20px;
    }

    .face img {
      position: absolute;
      width: 100%;
      height: 100%;
      object-fit: cover;
      z-index: 0;
    }

    .face p, .face .theme {
      position: relative;
      z-index: 1;
      text-align: center;
      text-shadow: 2px 2px 5px rgba(0,0,0,0.7);
    }

    .face p {
      font-size: 18px;
      margin-top: 10px;
    }

    .face .theme {
      font-weight: bold;
      font-size: 22px;
    }

    .watermark {
      position: absolute;
      bottom: 10px;
      right: 15px;
      font-size: 16px;
      opacity: 0.7;
      z-index: 2;
    }

    .inner-card {
      width: 100%;
      height: 100%;
      transition: transform 0.8s;
      transform-style: preserve-3d;
      position: relative;
    }

    .card.flipped .inner-card {
      transform: rotateY(180deg);
    }

    .front, .back {
      background: rgba(0,0,0,0.4);
    }

    .front { transform: rotateY(0deg); }
    .back { transform: rotateY(180deg); }
  </style>
</head>
<body>
  <h1>âœ¨ GÃ©nÃ©rateur de Citations âœ¨</h1>

  <select id="themeSelect">
    <option value="">-- Choisis un thÃ¨me --</option>
    <option value="Amour">â¤ï¸ Amour</option>
    <option value="AmitiÃ©">ğŸ¤ AmitiÃ©</option>
    <option value="Ã‰cole">ğŸ“š Ã‰cole</option>
    <option value="Motivation">ğŸ”¥ Motivation</option>
    <option value="Humour">ğŸ˜‚ Humour</option>
    <option value="Vie">ğŸŒ Vie</option>
    <option value="Famille">ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ Famille</option>
    <option value="SuccÃ¨s">ğŸ† SuccÃ¨s</option>
    <option value="Courage">ğŸ¦ Courage</option>
    <option value="Sagesse">ğŸ§  Sagesse</option>
  </select>

  <div>
    <button onclick="generateQuote()">ğŸ² GÃ©nÃ©rer</button>
    <button onclick="downloadQuote()">ğŸ“¥ TÃ©lÃ©charger</button>
  </div>

  <div class="card" id="card">
    <div class="inner-card">
      <div class="face front">
        <img src="" alt="">
        <div class="theme"></div>
        <p></p>
        <div class="watermark">nth</div>
      </div>
      <div class="face back">
        <img src="" alt="">
        <div class="theme"></div>
        <p></p>
        <div class="watermark">nth</div>
      </div>
    </div>
  </div>

  <script>
    // Citations fixes par thÃ¨me
    const citations={
      "Amour":["L'amour est la clÃ© de la vie.","Aimer, c'est donner sans rien attendre.","Un cÅ“ur sincÃ¨re vaut mieux que mille promesses."],
      "AmitiÃ©":["Un ami, c'est quelqu'un qui sait tout de toi et qui t'aime quand mÃªme.","Les amis sont la famille que l'on choisit.","L'amitiÃ© double les joies et rÃ©duit de moitiÃ© les peines."],
      "Ã‰cole":["Apprendre, c'est grandir.","Chaque erreur est une leÃ§on dÃ©guisÃ©e.","La curiositÃ© est le dÃ©but de la sagesse."],
      "Motivation":["Ne rÃªve pas ta vie, vis tes rÃªves.","Le succÃ¨s nâ€™est pas final, lâ€™Ã©chec nâ€™est pas fatal.","Croire en soi est le premier secret du succÃ¨s."],
      "Humour":["Je suis en formeâ€¦ mais forme de quoi exactement ?","Rire, câ€™est bon pour la santÃ©.","La vie est courteâ€¦ alors souris tant que tu as encore des dents !"],
      "Vie":["Vis chaque jour comme si c'Ã©tait le dernier.","Profite des petits moments.","Rien n'arrive sans raison."],
      "Famille":["La famille est tout.","Aime et protÃ¨ge les tiens.","Les liens familiaux sont prÃ©cieux."],
      "SuccÃ¨s":["Travaille en silence, laisse ton succÃ¨s parler.","Rien nâ€™est impossible.","Le succÃ¨s appartient Ã  ceux qui osent."],
      "Courage":["Le courage, câ€™est de continuer malgrÃ© la peur.","Ose sortir de ta zone de confort.","Affronte tes peurs pour grandir."],
      "Sagesse":["Ã‰coute plus que tu ne parles.","Apprends de chaque expÃ©rience.","La patience est la clÃ© de la sagesse."]
    };

    // GÃ©nÃ©rateur automatique
    const genererCitations={
      "Amour":{debuts:["L'amour","ÃŠtre aimÃ©","Tomber amoureux","Partager un sourire"],milieux:[" est comme une lumiÃ¨re"," est le plus beau cadeau"," illumine la vie"],fins:[" qui ne s'Ã©teint jamais."," quâ€™on nâ€™oublie jamais."," malgrÃ© la distance."]},
      "AmitiÃ©":{debuts:["Un ami","Lâ€™amitiÃ©","Un vrai compagnon"],milieux:[" est une Ã©toile"," est un trÃ©sor"," brille dans lâ€™ombre"],fins:[" qui Ã©claire nos nuits."," que rien ne peut briser."," sans fin."]},
      "Ã‰cole":{debuts:["Apprendre","Ã‰tudier","Lâ€™Ã©cole"],milieux:[" ouvre des portes"," construit lâ€™avenir"," est une richesse"],fins:[" que rien ne peut refermer."," pour demain."," pour toute une vie."]},
      "Motivation":{debuts:["Croire en soi","PersÃ©vÃ©rer","Ne jamais abandonner"],milieux:[" construit des victoires"," forge le caractÃ¨re"," brise les limites"],fins:[" mÃªme quand tout est sombre."," malgrÃ© les Ã©checs."," pour inspirer les autres."]},
      "Humour":{debuts:["Le rire","Un sourire","Une blague"],milieux:[" rÃ©chauffe le cÅ“ur"," rend la vie lÃ©gÃ¨re"," guÃ©rit les peines"],fins:[" mieux quâ€™un mÃ©dicament."," quâ€™on nâ€™oublie pas."," Ã  partager sans modÃ©ration."]},
      "Vie":{debuts:["La vie","Chaque instant","Un jour"],milieux:[" est un cadeau"," est une aventure"," est une leÃ§on"],fins:[" Ã  savourer pleinement."," quâ€™on Ã©crit soi-mÃªme."," sans retour en arriÃ¨re."]},
      "Famille":{debuts:["La famille","Un foyer","Un parent"],milieux:[" est une force"," unit les cÅ“urs"," donne un refuge"],fins:[" malgrÃ© tout."," pour toujours."," Ã  chaque Ã©tape de la vie."]},
      "SuccÃ¨s":{debuts:["Le succÃ¨s","RÃ©ussir","Un rÃªve accompli"],milieux:[" demande des efforts"," ne vient pas seul"," se construit chaque jour"],fins:[" mais en vaut la peine."," aprÃ¨s de longs combats."," qui inspire les autres."]},
      "Courage":{debuts:["Le courage","Oser","Se relever"],milieux:[" fait grandir"," ouvre des portes"," illumine le chemin"],fins:[" mÃªme dans lâ€™obscuritÃ©."," chaque jour un peu plus."," sans jamais reculer."]},
      "Sagesse":{debuts:["La sagesse","Ã‰couter","Apprendre"],milieux:[" vient du temps"," naÃ®t de lâ€™expÃ©rience"," Ã©claire les choix"],fins:[" de toute une vie."," quâ€™on transmet."," sans jamais juger."]}
    };

    function creerCitation(theme){
      if(!genererCitations[theme]) return null;
      const data=genererCitations[theme];
      const d=data.debuts[Math.floor(Math.random()*data.debuts.length)];
      const m=data.milieux[Math.floor(Math.random()*data.milieux.length)];
      const f=data.fins[Math.floor(Math.random()*data.fins.length)];
      return d+m+f;
    }

    function typeText(element,text,speed=40){
      element.innerHTML="";
      let i=0;
      function typing(){
        if(i<text.length){
          element.innerHTML+=text.charAt(i);
          i++;
          setTimeout(typing,speed);
        }
      }
      typing();
    }

    function generateQuote(){
      const theme=document.getElementById("themeSelect").value;
      if(!theme || !citations[theme]) return alert("SÃ©lectionne un thÃ¨me !");
      let text;
      if(Math.random()>0.5){
        const list=citations[theme];
        text=list[Math.floor(Math.random()*list.length)];
      }else{
        text=creerCitation(theme) || "Citation inspirante ğŸŒŸ";
      }
      const imgUrl=`https://picsum.photos/400/250?random=${Math.floor(Math.random()*1000)}`;
      const card=document.getElementById("card");
      const front=card.querySelector(".front");
      const back=card.querySelector(".back");
      if(!card.classList.contains("flipped")){
        back.querySelector("img").src=imgUrl;
        back.querySelector(".theme").textContent=theme;
        typeText(back.querySelector("p"),text);
      }else{
        front.querySelector("img").src=imgUrl;
        front.querySelector(".theme").textContent=theme;
        typeText(front.querySelector("p"),text);
      }
      card.classList.toggle("flipped");
    }

    function downloadQuote(){
      const card=document.getElementById("card");
      const visibleFace=card.classList.contains("flipped")
        ? card.querySelector(".back")
        : card.querySelector(".front");
      html2canvas(visibleFace,{scale:2}).then(canvas=>{
        const link=document.createElement("a");
        link.download="citation-nth.png";
        link.href=canvas.toDataURL("image/png");
        link.click();
      });
    }
  </script>
</body>
</html>
