<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>G√©n√©rateur de Citations Styl√©</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap');
    
    body {
      font-family: "Poppins", sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      min-height: 100vh;
      margin: 0;
      padding: 20px;
      background: linear-gradient(270deg, #6e8efb, #a777e3, #f7971e, #ffd200);
      background-size: 800% 800%;
      animation: gradient 20s ease infinite;
      color: #fff;
    }

    @keyframes gradient {
      0% {background-position:0% 50%;}
      50% {background-position:100% 50%;}
      100% {background-position:0% 50%;}
    }

    h1 {
      margin-bottom: 20px;
      text-shadow: 2px 2px 5px rgba(0,0,0,0.4);
      text-align: center;
    }

    select, button, input[type="file"] {
      padding: 12px 20px;
      margin: 10px;
      border: none;
      border-radius: 10px;
      font-size: 16px;
      cursor: pointer;
      transition: 0.3s all;
    }

    select {
      background: #fff;
      color: #333;
    }

    button {
      background: #ff6f61;
      color: #fff;
    }

    button:hover {
      background: #ff3b2e;
      transform: scale(1.1) rotate(-2deg);
      box-shadow: 0 5px 15px rgba(0,0,0,0.3);
    }

    .card {
      width: 400px;
      height: 250px;
      perspective: 1000px;
      margin-top: 20px;
      position: relative;
    }

    .inner-card {
      width: 100%;
      height: 100%;
      transition: transform 0.8s;
      transform-style: preserve-3d;
      position: relative;
    }

    .card.flipped .inner-card {
      transform: rotateY(180deg);
    }

    .face {
      width: 100%;
      height: 100%;
      border-radius: 15px;
      box-shadow: 0 15px 35px rgba(0,0,0,0.5), 0 0 25px rgba(255,255,255,0.2);
      position: absolute;
      backface-visibility: hidden;
      overflow: hidden;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: column;
      padding: 20px;
      background: rgba(0,0,0,0.4);
      transition: transform 0.3s, box-shadow 0.3s;
    }

    .face:hover {
      transform: scale(1.05) rotateY(5deg);
      box-shadow: 0 20px 50px rgba(0,0,0,0.6), 0 0 35px rgba(255,255,255,0.3);
    }

    .face img {
      position: absolute;
      width: 100%;
      height: 100%;
      object-fit: cover;
      z-index: 0;
    }

    .face .theme {
      position: relative;
      z-index: 1;
      text-align: center;
      text-shadow: 2px 2px 5px rgba(0,0,0,0.7);
      font-weight: 600;
      font-size: 22px;
      opacity: 0;
      animation: fadeIn 1s forwards;
    }

    .face p {
      position: relative;
      z-index: 1;
      text-align: center;
      text-shadow: 2px 2px 5px rgba(0,0,0,0.7);
      font-size: 18px;
      margin-top: 10px;
    }

    .watermark {
      position: absolute;
      bottom: 10px;
      right: 15px;
      font-size: 16px;
      opacity: 0.7;
      z-index: 2;
    }

    @keyframes fadeIn { to {opacity: 1;} }

    @media screen and (max-width: 480px){
      .card { width: 90%; height: auto; }
      select, button, input[type="file"] { width: 90%; font-size: 14px; }
      .face p { font-size: 16px; }
      .face .theme { font-size: 18px; }
    }
  </style>
</head>
<body>
  <h1>‚ú® G√©n√©rateur de Citations ‚ú®</h1>

  <select id="themeSelect">
    <option value="">-- Choisis un th√®me --</option>
    <option value="Amour">‚ù§Ô∏è Amour</option>
    <option value="Amiti√©">ü§ù Amiti√©</option>
    <option value="√âcole">üìö √âcole</option>
    <option value="Motivation">üî• Motivation</option>
    <option value="Humour">üòÇ Humour</option>
    <option value="Vie">üåç Vie</option>
    <option value="Famille">üë®‚Äçüë©‚Äçüëß‚Äçüë¶ Famille</option>
    <option value="Succ√®s">üèÜ Succ√®s</option>
    <option value="Courage">ü¶Å Courage</option>
    <option value="Sagesse">üß† Sagesse</option>
  </select>

  <input type="file" id="uploadImage">

  <div>
    <button onclick="generateQuote()">üé≤ G√©n√©rer</button>
    <button onclick="downloadQuote()">üì• T√©l√©charger</button>
  </div>

  <div class="card" id="card">
    <div class="inner-card">
      <div class="face front">
        <img src="" alt="">
        <div class="theme"></div>
        <p></p>
        <div class="watermark">nth</div>
      </div>
      <div class="face back">
        <img src="" alt="">
        <div class="theme"></div>
        <p></p>
        <div class="watermark">nth</div>
      </div>
    </div>
  </div>

  <script>
    const citations={
      "Amour":["L'amour v√©ritable ne meurt jamais.","Aimer, c'est se donner sans attendre.","Un c≈ìur sinc√®re vaut mieux que mille promesses.","Tomber amoureux rend la vie plus belle.","Chaque geste d'amour compte.","L'amour est la lumi√®re de la vie.","Aimer quelqu'un, c'est accepter ses d√©fauts.","Un sourire partag√© est un acte d'amour.","Le v√©ritable amour sait pardonner.","L'amour transforme tout ce qu'il touche."],
      "Amiti√©":["Un ami v√©ritable est un tr√©sor.","Les amis sont la famille que l'on choisit.","L'amiti√© double les joies et r√©duit les peines.","Un ami est l√† m√™me dans le silence.","Partager des moments cr√©e des souvenirs.","L'amiti√© se nourrit de confiance.","Un bon ami √©coute sans juger.","Les vrais amis restent malgr√© la distance.","Avoir un ami, c'est avoir un refuge.","L'amiti√© rend la vie plus douce."],
      "√âcole":["Apprendre, c'est grandir chaque jour.","Chaque erreur est une le√ßon d√©guis√©e.","La curiosit√© est le d√©but de la sagesse.","√âtudier ouvre des portes vers l'avenir.","L'√©cole construit le chemin de demain.","Apprendre enrichit l'esprit et le c≈ìur.","Chaque connaissance acquise est un tr√©sor.","L'√©ducation est un cadeau pr√©cieux.","Les le√ßons d'aujourd'hui sont les succ√®s de demain.","Apprendre rend libre et confiant."],
      "Motivation":["Ne r√™ve pas ta vie, vis tes r√™ves.","Le succ√®s n‚Äôest pas final, l‚Äô√©chec n‚Äôest pas fatal.","Croire en soi est le premier secret du succ√®s.","Avancer malgr√© la peur est un vrai courage.","Chaque effort compte vers ton objectif.","Pers√©v√©rer transforme les obstacles en opportunit√©s.","Se relever apr√®s un √©chec forge le caract√®re.","Rien n‚Äôest impossible √† celui qui ose.","Travaille en silence, laisse ton succ√®s parler.","Le courage d'aujourd'hui cr√©e le succ√®s de demain."],
      "Humour":["Rire est le meilleur des rem√®des.","Un sourire peut illuminer une journ√©e.","L'humour rapproche les gens.","Rire de soi-m√™me est un signe de sagesse.","Une blague partag√©e rend heureux.","L'humour transforme les moments difficiles.","Rire lib√®re l'esprit et le c≈ìur.","Un fou rire est une petite victoire.","Les sourires sont contagieux.","L'humour est l'√©pice de la vie."],
      "Vie":["Vis chaque jour comme si c'√©tait le dernier.","Profite des petits moments.","Rien n'arrive sans raison.","La vie est un voyage, pas une destination.","Chaque instant compte.","La vie est belle quand on la savoure.","Les exp√©riences forgent notre chemin.","Apprends √† appr√©cier le pr√©sent.","Vivre pleinement est un art.","Chaque jour offre une nouvelle chance."],
      "Famille":["La famille est un tr√©sor pr√©cieux.","Aime et prot√®ge les tiens.","Les liens familiaux sont inestimables.","La famille est un refuge s√ªr.","Soutenir sa famille est un devoir sacr√©.","Chaque membre apporte sa lumi√®re.","La famille se construit dans l'amour.","Les souvenirs familiaux sont √©ternels.","Aimer sa famille enrichit l'√¢me.","La famille est la base de la vie."],
      "Succ√®s":["Le succ√®s appartient √† ceux qui osent.","Rien n‚Äôest impossible pour qui pers√©v√®re.","Travaille dur et reste humble.","Les efforts d'aujourd'hui portent les fruits de demain.","Le succ√®s est une question de constance.","Atteindre ses buts demande courage et patience.","Chaque victoire commence par un premier pas.","La r√©ussite sourit √† ceux qui n'abandonnent jamais.","Croire en soi est la cl√© du succ√®s.","Le succ√®s inspire ceux qui viennent apr√®s."],
      "Courage":["Le courage consiste √† avancer malgr√© la peur.","Affronter ses peurs est la vraie force.","Se relever apr√®s un √©chec montre sa valeur.","Oser est le premier pas vers la r√©ussite.","Chaque d√©fi surmont√© renforce l'√¢me.","Le courage transforme les obstacles en opportunit√©s.","Ne jamais abandonner est un acte de bravoure.","Le courage est la cl√© de la libert√©.","Agir malgr√© le doute est courageux.","La pers√©v√©rance est une forme de courage."],
      "Sagesse":["√âcouter avant de parler est un signe de sagesse.","Apprendre de chaque exp√©rience rend sage.","La patience est une vertu pr√©cieuse.","La r√©flexion pr√©c√®de les bonnes d√©cisions.","Comprendre les autres enrichit l'esprit.","La sagesse se cultive avec le temps.","Agir avec discernement est la cl√©.","Les erreurs d'hier forgent la sagesse de demain.","Savoir attendre est un art.","La connaissance combin√©e √† l'exp√©rience m√®ne √† la sagesse."]
    };

    const genererCitations={
      "Amour":{debuts:["L'amour","√ätre aim√©","Tomber amoureux","Partager un sourire"],milieux:[" est comme une lumi√®re"," est le plus beau cadeau"," illumine la vie"],fins:[" qui ne s'√©teint jamais."," qu‚Äôon n‚Äôoublie jamais."," malgr√© la distance."]},
      "Amiti√©":{debuts:["Un ami","L‚Äôamiti√©","Un vrai compagnon"],milieux:[" est une √©toile"," est un tr√©sor"," brille dans l‚Äôombre"],fins:[" qui √©claire nos nuits."," que rien ne peut briser."," sans fin."]},
      "√âcole":{debuts:["Apprendre","√âtudier","L‚Äô√©cole"],milieux:[" ouvre des portes"," construit l‚Äôavenir"," est une richesse"],fins:[" que rien ne peut refermer."," pour demain."," pour toute une vie."]},
      "Motivation":{debuts:["Croire en soi","Pers√©v√©rer","Ne jamais abandonner"],milieux:[" construit des victoires"," forge le caract√®re"," brise les limites"],fins:[" m√™me quand tout est sombre."," malgr√© les √©checs."," pour inspirer les autres."]},
      "Humour":{debuts:["Le rire","Un sourire","Une blague"],milieux:[" r√©chauffe le c≈ìur"," rend la vie l√©g√®re"," gu√©rit les peines"],fins:[" mieux qu‚Äôun m√©dicament."," qu‚Äôon n‚Äôoublie pas."," √† partager sans mod√©ration."]},
      "Vie":{debuts:["La vie","Chaque instant","Un jour"],milieux:[" est un cadeau"," est une aventure"," est une le√ßon"],fins:[" √† savourer pleinement."," qu‚Äôon √©crit soi-m√™me."," sans retour en arri√®re."]},
      "Famille":{debuts:["La famille","Un foyer","Un parent"],milieux:[" est une force"," unit les c≈ìurs"," donne un refuge"],fins:[" malgr√© tout."," pour toujours."," √† chaque √©tape de la vie."]},
      "Succ√®s":{debuts:["Le succ√®s","R√©ussir","Un r√™ve accompli"],milieux:[" demande des efforts"," ne vient pas seul"," se construit chaque jour"],fins:[" mais en vaut la peine."," apr√®s de longs combats."," qui inspire les autres."]},
      "Courage":{debuts:["Le courage","Oser","Se relever"],milieux:[" fait grandir"," ouvre des portes"," illumine le chemin"],fins:[" m√™me dans l‚Äôobscurit√©."," chaque jour un peu plus."," sans jamais reculer."]},
      "Sagesse":{debuts:["La sagesse","√âcouter","Apprendre"],milieux:[" vient du temps"," na√Æt de l‚Äôexp√©rience"," √©claire les choix"],fins:[" de toute une vie."," qu‚Äôon transmet."," sans jamais juger."]}
    };

    function creerCitation(theme){
      if(!genererCitations[theme]) return null;
      const data=genererCitations[theme];
      const d=data.debuts[Math.floor(Math.random()*data.debuts.length)];
      const m=data.milieux[Math.floor(Math.random()*data.milieux.length)];
      const f=data.fins[Math.floor(Math.random()*data.fins.length)];
      return d+m+f;
    }

    function typeText(element,text,speed=40){
      element.innerHTML="";
      let i=0;
      function typing(){
        if(i<text.length){
          element.innerHTML+=text.charAt(i);
          i++;
          setTimeout(typing,speed);
        }
      }
      typing();
    }

    document.getElementById("uploadImage").addEventListener("change", function(e){
      const file = e.target.files[0];
      if(file){
        const reader = new FileReader();
        reader.onload = function(ev){
          document.querySelector(".back img").src = ev.target.result;
        }
        reader.readAsDataURL(file);
      }
    });

    function generateQuote(){
      const theme=document.getElementById("themeSelect").value;
      if(!theme || !citations[theme]) return alert("S√©lectionne un th√®me !");
      let text;
      if(Math.random()>0.5){
        const list=citations[theme];
        text=list[Math.floor(Math.random()*list.length)];
      }else{
        text=creerCitation(theme) || "Citation inspirante üåü";
      }
      const imgUrl=`https://picsum.photos/400/250?random=${Math.floor(Math.random()*1000)}`;
      const card=document.getElementById("card");
      const front=card.querySelector(".front");
      const back=card.querySelector(".back");

      // couleur al√©atoire
      const colors = ["#ff6f61","#6fe3ff","#ffeb6f","#7fff6f","#e36fff"];
      const randomColor = colors[Math.floor(Math.random()*colors.length)];

      if(!card.classList.contains("flipped")){
        back.querySelector("img").src=imgUrl;
        back.querySelector(".theme").textContent=theme;
        back.querySelector(".theme").style.color=randomColor;
        typeText(back.querySelector("p"),text);
      }else{
        front.querySelector("img").src=imgUrl;
        front.querySelector(".theme").textContent=theme;
        front.querySelector(".theme").style.color=randomColor;
        typeText(front.querySelector("p"),text);
      }
      card.classList.toggle("flipped");
    }

    function downloadQuote(){
      const card=document.getElementById("card");
      const visibleFace=card.classList.contains("flipped")
        ? card.querySelector(".back")
        : card.querySelector(".front");
      html2canvas(visibleFace,{scale:2}).then(canvas=>{
        const link=document.createElement("a");
        link.download="citation-nth.png";
        link.href=canvas.toDataURL("image/png");
        link.click();
      });
    }
  </script>
</body>
</html>
